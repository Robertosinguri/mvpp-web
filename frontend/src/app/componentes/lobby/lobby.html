<background></background>
<div class="lobby-container">
  <header class="lobby-header">
    <h1>Sala: {{codigoSala || 'CARGANDO...'}}</h1>
    <button class="back-btn" (click)="salirSala()">â† Volver</button>
  </header>

  <main class="lobby-main">
    <!-- CÃ³digo de Sala -->
    <div class="room-code-section">
      <h2>âœ… Sala Creada</h2>
      <p class="share-text">Comparte este cÃ³digo con tus amigos:</p>
      
      <div class="code-display">
        <div class="room-code">
          {{codigoSala || 'NO-CODE'}}
        </div>
        <button (click)="copiarCodigo()" 
                [class.copied]="copiado" 
                class="copy-btn-destacado" 
                style="background: transparent; color: #E6BD00; border: 1px solid #E6BD00; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-weight: 500; font-size: 0.9rem; transition: all 0.3s ease;">
          {{copiado ? 'âœ“' : 'Copiar'}}
        </button>
      </div>
      
      <p class="validity-text">
        Este cÃ³digo es vÃ¡lido hasta que termine la partida
      </p>
    </div>

    <!-- Lista de Jugadores -->
    <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 20px; margin: 0 auto 2rem; max-width: 600px;">
      <h3 style="color: #01BA9A; margin-bottom: 15px;">ğŸ‘¥ Jugadores ({{jugadores.length}}/{{maxJugadores}})</h3>
      
      <div *ngFor="let jugador of jugadores" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
        <div>
          <strong style="color: white;">{{jugador.nombre}}</strong>
          <span *ngIf="jugador.esHost" style="color: #E6BD00; margin-left: 10px;">ğŸ‘‘ Host</span>
        </div>
        <div>
          <span *ngIf="jugador.configurado" style="color: #01BA9A;">âœ… Listo</span>
          <span *ngIf="!jugador.configurado" style="color: #E6BD00;">â³ Configurando...</span>
        </div>
      </div>

      <!-- Slots vacÃ­os -->
      <div *ngFor="let slot of getSlotsVacios()" style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin-bottom: 10px; border: 2px dashed rgba(255,255,255,0.3); text-align: center;">
        <span style="color: rgba(255,255,255,0.5); font-style: italic;">Esperando jugador...</span>
      </div>
    </div>

    <!-- BotÃ³n de Iniciar Partida (solo para host) -->
    <div *ngIf="esHost && todosListos()" style="text-align: center; margin-bottom: 2rem;">
      <button (click)="iniciarPartida()" style="background: linear-gradient(45deg, #01BA9A, #00a085); color: white; border: none; padding: 20px 40px; border-radius: 25px; font-size: 1.3rem; font-weight: 700; cursor: pointer; box-shadow: 0 5px 15px rgba(1, 186, 154, 0.4);">
        ğŸš€ Iniciar Partida
      </button>
    </div>

    <!-- Estado del Juego -->
    <div style="text-align: center;">
      <p *ngIf="!todosListos()" style="color: #E6BD00; font-size: 1.1rem; margin: 0;">
        â³ Esperando que se unan mÃ¡s jugadores...
      </p>
      <p *ngIf="todosListos() && !esHost" style="color: #01BA9A; font-size: 1.1rem; margin: 0;">
        âœ… Todos listos! Esperando que el host inicie la partida...
      </p>
    </div>
  </main>

</div>

