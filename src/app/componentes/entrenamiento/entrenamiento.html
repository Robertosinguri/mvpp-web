<div class="training-container">
  <header class="training-header">
    <h1>🎯 Entrenamiento Individual</h1>
    <button class="back-btn" (click)="volver()">← Volver</button>
  </header>

  <main class="training-main">
    <div class="config-section">
      <div class="training-info">
        <h2>Practica y Mejora tu Ranking</h2>
        <p>Configura tu sesión de entrenamiento personalizada con IA</p>
      </div>

      <div class="config-form">
        <div class="input-group">
          <label>Tu Temática de Expertise</label>
          <p class="help-text">Máximo 3 palabras para preguntas precisas de IA</p>
          <input 
            type="text" 
            placeholder="Ej: alta cocina, machine learning, rolling stones..." 
            [(ngModel)]="configuracion.tematica"
            (input)="validarTematica($event)"
            class="tematica-input"
            [class.error]="tematicaInvalida"
            maxlength="50">
          
          <div class="validation-message" *ngIf="tematicaInvalida">
            ⚠️ Máximo 3 palabras para que la IA genere preguntas precisas
          </div>
          
          <div class="word-counter">
            Palabras: {{contarPalabras(configuracion.tematica)}}/3
          </div>
          
          <div class="suggestions" *ngIf="!configuracion.tematica">
            <span class="suggestions-label">💡 Ideas populares:</span>
            <div class="suggestion-tags">
              <button 
                type="button"
                class="suggestion-tag" 
                *ngFor="let sugerencia of sugerenciasTematicas"
                (click)="seleccionarSugerencia(sugerencia)">
                {{sugerencia}}
              </button>
            </div>
          </div>
        </div>

        <div class="input-group">
          <label>Nivel de Dificultad</label>
          <div class="difficulty-options">
            <button 
              class="difficulty-btn"
              [class.active]="configuracion.dificultad === 'baby'"
              (click)="configuracion.dificultad = 'baby'">
              🍼 Baby
              <span class="difficulty-desc">Preguntas básicas</span>
            </button>
            <button 
              class="difficulty-btn"
              [class.active]="configuracion.dificultad === 'conocedor'"
              (click)="configuracion.dificultad = 'conocedor'">
              🧠 Conocedor
              <span class="difficulty-desc">Nivel intermedio</span>
            </button>
            <button 
              class="difficulty-btn"
              [class.active]="configuracion.dificultad === 'killer'"
              (click)="configuracion.dificultad = 'killer'">
              💀 Killer
              <span class="difficulty-desc">Experto extremo</span>
            </button>
          </div>
        </div>

        <div class="action-section">
          <button 
            class="start-training-btn" 
            [disabled]="!esConfiguracionValida()"
            (click)="iniciarEntrenamiento()">
            🚀 Comenzar Entrenamiento
          </button>
        </div>
      </div>
    </div>

    <div class="stats-panel">
      <h3>📊 Tu Progreso</h3>
      
      <div class="stat-item">
        <span class="stat-label">Partidas jugadas:</span>
        <span class="stat-value">{{estadisticas.partidasJugadas}}</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Mejor puntaje:</span>
        <span class="stat-value highlight">{{estadisticas.mejorPuntaje}}/5</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Promedio:</span>
        <span class="stat-value">{{estadisticas.promedio}}/5</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Posición ranking:</span>
        <span class="stat-value ranking">#{{estadisticas.posicionRanking}}</span>
      </div>

      <div class="recent-topics" *ngIf="estadisticas.temasRecientes.length > 0">
        <h4>🎯 Temas recientes</h4>
        <div class="topic-tags">
          <span 
            class="topic-tag" 
            *ngFor="let tema of estadisticas.temasRecientes">
            {{tema}}
          </span>
        </div>
      </div>

      <div class="training-benefits">
        <h4>💪 Beneficios del Entrenamiento</h4>
        <ul>
          <li>Mejora tu posición en el ranking</li>
          <li>Practica sin presión social</li>
          <li>Descubre nuevas temáticas</li>
          <li>Perfecciona tu estrategia</li>
        </ul>
      </div>
    </div>
  </main>
</div>